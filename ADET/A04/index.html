<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KSTOP | POS</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
      crossorigin="anonymous"
    />

    <link rel="icon" href="img/KstopIcon.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Asset&family=Asul:wght@400;700&family=BIZ+UDPMincho&family=Chango&family=Climate+Crisis&family=Goblin+One&family=Goldman:wght@400;700&family=Livvic:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,900&family=Luxurious+Roman&family=Maitree:wght@200;300;400;500;600;700&family=Manrope:wght@200..800&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Quicksand:wght@300..700&family=REM:ital,wght@0,100..900;1,100..900&family=Rammetto+One&family=Red+Rose:wght@300..700&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik+Mono+One&family=Rubik:ital,wght@0,300..900;1,300..900&family=Slabo+27px&family=Space+Grotesk:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "REM", sans-serif;
      }
      .custom-button {
        width: 100px;
      }

      .custom-button.content {
        width: 200px;
      }

      .custom-button:hover {
        background-color: rgb(240, 240, 240);
        cursor: pointer;
      }

      .topcontainer {
        height: 18dvh;
      }

      .categories {
        width: fit-content;
      }

      .maincontainer {
        height: 75dvh;
      }
    </style>
  </head>

  <body>
    <nav class="navbar sticky-top bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand">
          <img
            src="img/KstopIcon.png"
            alt="Logo"
            width="30"
            height="24"
            class="d-inline-block align-text-top"
          />
          K-Stop
        </a>
        <!-- Search feature is not functional yet-->
        <form class="d-flex" role="search">
          <input
            class="form-control me-2"
            type="search"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <!-- Main Content -->
        <div class="col-12 col-lg-7 p-2 order-1 order-lg-1">
          <div class="row">
            <div class="col pb-3">
              <div class="card overflow-x-scroll p-3 topcontainer">
                <div class="d-flex flex-start flex-row categories" id="categories"></div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="card overflow-y-scroll p-3 maincontainer">
                <div class="d-flex flex-start flex-row flex-wrap" id="maincontainer"></div>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Receipt Section -->
        <div class="col-12 col-lg-5 p-2 order-2 order-lg-2">
          <div class="card p-3 overflow-scroll" style="height: 100%;">
            <div id="receipt"></div>
            <div class="mt-4 d-flex flex-row justify-content-between">
              <div><b>TOTAL</b></div>
              <div><b id="totalValue">0</b></div>
            </div>

            <div class="mt-3 text-end">
              <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#receiptModal" onclick="showReceiptSummary()">
                Confirm Purchase
              </button>              
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- Receipt Summary Modal for the Confirm Purchase -->
    <div class="modal fade" id="receiptModal" tabindex="-1" aria-labelledby="receiptModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content rounded-4">
          <div class="modal-header">
            <h5 class="modal-title" id="receiptModalLabel">Transaction Summary</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" id="receiptSummary">
            <!-- Receipt summary will be inserted here -->
          </div>
          <div class="modal-footer justify-content-between">
            <strong>Total:</strong> <strong id="receiptSummaryTotal">â‚±0.00</strong>
          </div>
        </div>
      </div>
    </div>

    <script>
      var products = 
      [
        {
          category: "Girl Groups",
          contents: [
            {
              name: "Twice",
              code: "TWC",
              isAvailable: true,
              image: "GG-TWC",
              products: [
                {
                  albums: [
                    {
                      name: "Twicetagram",
                      code: "ALB_TCG",
                      price: 1100,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A",
                          code: "VER-A",
                          price: 1100,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Sticker",
                          ],
                          image: "twicetagram_verA",
                        },
                        {
                          name: "Version B",
                          code: "VER-B",
                          price: 1100,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Sticker",
                          ],
                          image: "twicetagram_verB",
                        },
                        {
                          name: "Version C",
                          code: "VER-C",
                          price: 1100,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Sticker",
                          ],
                          image: "twicetagram_verC",
                        },
                      ],
                    },
                    {
                      name: "Eyes Wide Open",
                      code: "ALB_EWO",
                      price: 1300,
                      isAvailable: true,
                      image: "eyeswideopen",
                      versions: [
                        {
                          name: "Story Version",
                          code: "VER-STY",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "CD-R",
                            "Lyric Book",
                            "Photocard (random 2 of 100)",
                            "Message Card (random 1 of 9)",
                            "Behind the Scenes Booklet",
                            "Poster (Pre-order Only)",
                          ],
                          image: "eyeswideopen_story",
                        },
                        {
                          name: "Style Version",
                          code: "VER-STL",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "CD-R",
                            "Lyric Book",
                            "Photocard (random 2 of 100)",
                            "Message Card (random 1 of 9)",
                            "Behind the Scenes Booklet",
                            "Poster (Pre-order Only)",
                          ],
                          image: "eyeswideopen_style",
                        },
                        {
                          name: "Retro Version",
                          code: "VER-RET",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "CD-R",
                            "Lyric Book",
                            "Photocard (random 2 of 100)",
                            "Message Card (random 1 of 9)",
                            "Behind the Scenes Booklet",
                            "Photocard Set (3 versions; 10 cards per set; Pre-order only)",
                            "Poster (3 versions; Pre-order only)",
                          ],
                          image: "eyeswideopen_retro",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Nayeon Photocard - Eyes Wide Open",
                      code: "NY_PC_EWO",
                      price: 80,
                      isAvailable: true,
                      image: "nyPhotocardEWO",
                    },
                    {
                      name: "Momo Photocard - Eyes Wide Open",
                      code: "MM_PC_EWO",
                      price: 80,
                      isAvailable: true,
                      image: "mmPhotocardEWO",
                    },
                    {
                      name: "Tzuyu Photocard - Twicetagram",
                      code: "TZ_PC_TCG",
                      price: 80,
                      isAvailable: true,
                      image: "tzPhotocardTCG",
                    },
                  ],
                  posters: [
                    {
                      name: "Twice Eyes Wide Open Poster",
                      code: "PST_EWO",
                      price: 180,
                      isAvailable: true,
                      image: "TW_PST_EWO",
                    },
                    {
                      name: "Twice Twicetagram Poster",
                      code: "PST_TCG",
                      price: 160,
                      isAvailable: true,
                      image: "TW_PST_TCG",
                    },
                  ],
                },
              ],
            },
            {
              name: "Aespa",
              code: "AES",
              isAvailable: true,
              image: "GG-AES",
              products: [
                {
                  albums: [
                    {
                      name: "Savage",
                      code: "ALB_SVG",
                      price: 1200,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A Savage",
                          code: "VER-A",
                          price: 1200,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "aespaSavageVerA",
                        },
                        {
                          name: "Version B Savage",
                          code: "VER-B",
                          price: 1250,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "aespaSavageVerB",
                        },
                      ],
                    },
                    {
                      name: "Drama",
                      code: "ALB_DRM",
                      price: 1000,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A - Drama Version",
                          code: "VER-A",
                          price: 1000,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "aespaDramaVerA",
                        },
                        {
                          name: "Version B - Giant Version",
                          code: "VER-B",
                          price: 1050,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "aespaDramaVerB",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Karina PC Savage",
                      code: "KARINA_PC_SV",
                      price: 70,
                      isAvailable: true,
                      image: "karinaPhotocardSV",
                    },
                    {
                      name: "Winter PC Savage",
                      code: "WINTER_PC_SV",
                      price: 70,
                      isAvailable: true,
                      image: "winterPhotocardSV",
                    },
                    {
                      name: "Ningning PC Savage",
                      code: "NINGNING_PC_SV",
                      price: 70,
                      isAvailable: true,
                      image: "ningningPhotocardSV",
                    },
                    {
                      name: "Giselle PC Savage",
                      code: "GISELLE_PC_SV",
                      price: 70,
                      isAvailable: true,
                      image: "gisellePhotocardSV",
                    },
                  ],
                  posters: [
                    {
                      name: "Aespa Savage Poster",
                      code: "AES_PST_SV",
                      price: 150,
                      isAvailable: true,
                      image: "aespaPST_SV",
                    },
                  ],
                },
              ],
            },
            {
              name: "IVE",
              code: "IVE",
              isAvailable: true,
              image: "GG-IVE",
              products: [
                {
                  albums: [
                    {
                      name: "After LIKE",
                      code: "ALB_AL",
                      price: 1200,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A After LIKE",
                          code: "VER-A",
                          price: 1200,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "iveAlVerA",
                        },
                        {
                          name: "Version B After LIKE",
                          code: "VER-B",
                          price: 1250,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "iveAlVerB",
                        },
                        {
                          name: "Version C After LIKE",
                          code: "VER-C",
                          price: 1250,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "iveAlVerC",
                        },
                      ],
                    },
                    {
                      name: "LOVE DIVE",
                      code: "ALB_LD",
                      price: 890,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A - LOVE DIVE",
                          code: "VER-A",
                          price: 890,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "iveLdVerA",
                        },
                        {
                          name: "Version B - LOVE DIVE",
                          code: "VER-B",
                          price: 1000,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "iveLdVerB",
                        },
                        {
                          name: "Version C - LOVE DIVE",
                          code: "VER-C",
                          price: 890,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "iveLdVerC",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Yujin PC After LIKE",
                      code: "YJ_PC_AL",
                      price: 70,
                      isAvailable: true,
                      image: "yujinPhotocardAL",
                    },
                    {
                      name: "Gaeul PC After LIKE",
                      code: "GAEUL_PC_AL",
                      price: 70,
                      isAvailable: true,
                      image: "gaeulPhotocardAL",
                    },
                    {
                      name: "Wonyoung PC After LIKE",
                      code: "WY_PC_AL",
                      price: 70,
                      isAvailable: true,
                      image: "wonyoungPhotocardAL",
                    },
                    {
                      name: "Leeseo PC After LIKE",
                      code: "LEESEO_PC_AL",
                      price: 70,
                      isAvailable: true,
                      image: "leeseoPhotocardAL",
                    },
                    {
                      name: "Rei PC After LIKE",
                      code: "REI_PC_AL",
                      price: 70,
                      isAvailable: true,
                      image: "reiPhotocardAL",
                    },
                    {
                      name: "Liz PC After LIKE",
                      code: "Liz_PC_AL",
                      price: 70,
                      isAvailable: true,
                      image: "lizPhotocardAL",
                    },
                  ],
                  posters: [
                    {
                      name: "IVE After LIKE Poster",
                      code: "PST_AL",
                      price: 150,
                      isAvailable: true,
                      image: "IVE_PST_AL",
                    },
                  ],
                },
              ],
            },
            {
              name: "Itzy",
              code: "ITZ",
              isAvailable: true,
              image: "GG-ITZY",
              products: [
                {
                  albums: [
                    {
                      name: "Crazy in Love",
                      code: "ALB_CIL",
                      price: 1100,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A Sterio Version",
                          code: "VER-A",
                          price: 1100,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "itzyCILVerA",
                        },
                        {
                          name: "Version B Photobook Version",
                          code: "VER-B",
                          price: 1150,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "itzyCILVerB",
                        },
                        {
                          name: "Version B Jewel Case Version",
                          code: "VER-C",
                          price: 1150,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "itzyCILVerC",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Yeji PC Crazy in Love",
                      code: "YEJI_PC_CIL",
                      price: 70,
                      isAvailable: true,
                      image: "yejiPhotocardCIL",
                    },
                    {
                      name: "Ryujin PC Crazy in Love",
                      code: "Ryujin_PC_CIL",
                      price: 70,
                      isAvailable: true,
                      image: "ryujinPhotocardCIL",
                    },
                    {
                      name: "Lia PC Crazy in Love",
                      code: "LIA_PC_CIL",
                      price: 70,
                      isAvailable: true,
                      image: "liaPhotocardCIL",
                    },
                    {
                      name: "Chaeryeong PC Crazy in Love",
                      code: "CHAERYEONG_PC_CIL",
                      price: 70,
                      isAvailable: true,
                      image: "chaeryeongPhotocardCIL",
                    },
                    {
                      name: "Yuna PC Crazy in Love",
                      code: "YUNA_PC_CIL",
                      price: 70,
                      isAvailable: true,
                      image: "yunaPhotocardCIL",
                    },
                  ],
                  posters: [
                    {
                      name: "Itzy Crazy in Love Poster",
                      code: "PST_CIL",
                      price: 150,
                      isAvailable: true,
                      image: "itzyPST_CIL",
                    },
                  ],
                },
              ],
            },
            {
              name: "Le Sserafim",
              code: "LEF",
              isAvailable: true,
              image: "GG-LEF",
              products: [
                {
                  albums: [
                    {
                      name: "FEARLESS",
                      code: "ALB_FL",
                      price: 1300,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A FEARLESS",
                          code: "VER-A",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "leserafimFearlessVerA",
                        },
                        {
                          name: "Version B FEARLESS",
                          code: "VER-B",
                          price: 1350,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "leserafimFearlessVerB",
                        },
                      ],
                    },
                    {
                      name: "UNFORGIVEN",
                      code: "ALB_UNF",
                      price: 1300,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Version A UNFORGIVEN",
                          code: "VER-A Dewy Sage",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "lesserafimUNFVerA",
                        },
                        {
                          name: "Version B UNFORGIVEN",
                          code: "VER-B Dusty Amber",
                          price: 1350,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "lesserafimUNFVerB",
                        },
                        {
                          name: "Version C UNFORGIVEN",
                          code: "VER-B Bloody Rose",
                          price: 1350,
                          isAvailable: true,
                          inclusions: [
                            "Photobook",
                            "Photocard",
                            "Poster",
                            "Sticker",
                          ],
                          image: "lesserafimUNFVerC",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Sakura PC Fearless",
                      code: "SAKURA_PC_FL",
                      price: 70,
                      isAvailable: true,
                      image: "sakuraPhotocardFL",
                    },
                    {
                      name: "Yunjin PC Fearless",
                      code: "YUNJIN_PC_FL",
                      price: 70,
                      isAvailable: true,
                      image: "yunjinPhotocardFL",
                    },
                    {
                      name: "Chaewon PC Fearless",
                      code: "CHAEWON_PC_FL",
                      price: 70,
                      isAvailable: true,
                      image: "chaewonPhotocardFL",
                    },
                    {
                      name: "Kazuha PC Fearless",
                      code: "KAZUHA_PC_FL",
                      price: 70,
                      isAvailable: true,
                      image: "kazuhaPhotocardFL",
                    },
                    {
                      name: "Eunchae PC Fearless",
                      code: "EUNCHAE_PC_FL",
                      price: 70,
                      isAvailable: true,
                      image: "eunchaePhotocardFL",
                    },
                  ],
                  posters: [
                    {
                      name: "Le Sserafim Fearless Poster",
                      code: "PST_FL",
                      price: 150,
                      isAvailable: true,
                      image: "leserafimPST_FL",
                    },
                  ],
                },
              ],
            },
          ],
        },
        {
          category: "Boy Groups",
          contents: [
            {
              name: "Stray Kids",
              code: "SKZ",
              isAvailable: true,
              image: "BG-SKZ",
              products: [
                {
                  albums: [
                    {
                      name: "I Am Not",
                      code: "ALB_IAMNOT",
                      price: 1500,
                      isAvailable: true,
                      versions: [
                        {
                          name: "I am Version",
                          code: "VER_IAN_IAM",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Poster (Pre-order benefit)",
                          ],
                          image: "skz_iamnot_i_am",
                        },
                        {
                          name: "NOT Version",
                          code: "VER_IAN_NOT",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Poster (Pre-order benefit)",
                          ],
                          image: "skz_iamnot_not",
                        },
                      ],
                    },
                    {
                      name: "I Am Who",
                      code: "ALB_IAMWHO",
                      price: 1500,
                      isAvailable: true,
                      versions: [
                        {
                          name: "I am Version",
                          code: "VER_IAM",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Poster (Pre-order benefit)",
                          ],
                          image: "skz_iamwho_i_am",
                        },
                        {
                          name: "WHO Version",
                          code: "VER_WHO",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "Photocard",
                            "Lyric Book",
                            "Poster (Pre-order benefit)",
                          ],
                          image: "skz_iamwho_who",
                        },
                      ],
                    },
                    {
                      name: "I Am You",
                      code: "ALB_IAY",
                      price: 1500,
                      isAvailable: true,
                      versions: [
                        {
                          name: "I am Version",
                          code: "VER_IAM",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "QR Photocard",
                            "Poster (Pre-order benefit)",
                            "Postcard Book (Pre-order benefit)",
                          ],
                          image: "skz_iamyou_i_am",
                        },
                        {
                          name: "YOU Version",
                          code: "VER_YOU",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "QR Photocard",
                            "Poster (Pre-order benefit)",
                            "Postcard Book (Pre-order benefit)",
                          ],
                          image: "skz_iamyou_you",
                        },
                      ],
                    },
                    {
                      name: "Giant",
                      code: "ALB_GIANT",
                      price: 1800,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Limited A Version",
                          code: "VER_A",
                          price: 1800,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Blu-ray",
                            "Photobook",
                            "Photocard",
                            "Poster",
                          ],
                          image: "skz_giant_limited_a",
                        },
                        {
                          name: "Limited B Version",
                          code: "VER__B",
                          price: 1800,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "Photocard",
                            "Poster",
                          ],
                          image: "skz_giant_limited_b",
                        },
                        {
                          name: "Standard Version",
                          code: "VER_STD",
                          price: 1800,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "Photobook",
                            "Photocard",
                            "Poster",
                          ],
                          image: "skz_giant_standard",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Stray Kids Photocard Set IAN",
                      code: "SKZ_PC_SET_IAN",
                      price: 270,
                      isAvailable: true,
                      image: "skz_pc_set_ian",
                    },
                    {
                      name: "Stray Kids Photocard Set IAW",
                      code: "SKZ_PC_SET_IAW",
                      price: 270,
                      isAvailable: true,
                      image: "skz_pc_set_iaw",
                    },
                    {
                      name: "Stray Kids Photocard Set IAY",
                      code: "SKZ_PC_SET_IAY",
                      price: 270,
                      isAvailable: true,
                      image: "skz_pc_set_iay",
                    },
                    {
                      name: "Stray Kids Photocard Set Giant",
                      code: "SKZ_PC_SET_Giant",
                      price: 270,
                      isAvailable: true,
                      image: "skz_pc_set_giant",
                    },
                  ],
                  posters: [
                    {
                      name: "Stray Kids Official Poster IAN",
                      code: "SKZ_POSTER_IAN",
                      price: 100,
                      isAvailable: true,
                      image: "skz_poster_ian",
                    },
                    {
                      name: "Stray Kids Official Poster IAW",
                      code: "SKZ_POSTER_IAW",
                      price: 100,
                      isAvailable: true,
                      image: "skz_poster_iaw",
                    },
                    {
                      name: "Stray Kids Official Poster IAY",
                      code: "SKZ_POSTER_IAY",
                      price: 100,
                      isAvailable: true,
                      image: "skz_poster_iay",
                    },
                    {
                      name: "Stray Kids Official Poster Giant",
                      code: "SKZ_POSTER_GIANT",
                      price: 100,
                      isAvailable: true,
                      image: "skz_poster_giant",
                    },
                  ],
                },
              ],
            },
            {
              name: "ENHYPEN",
              code: "ENH",
              isAvailable: true,
              image: "BG-ENH",
              products: [
                {
                  albums: [
                    {
                      name: "Dimension: Dilemma",
                      code: "ALB_DD",
                      price: 1500,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Scylla Version",
                          code: "VER_SCYLLA",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "112-page Photobook",
                            "20-page Lyric Book",
                            "Photocard (Random 1 of 8)",
                            "Hologram Photocard (Random 1 of 7)",
                            "Mini Poster (Random 1 of 7)",
                            "Sticker",
                          ],
                          image: "enhypen_dd_scylla",
                        },
                        {
                          name: "Odysseus Version",
                          code: "VER_ODYSSEUS",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "120-page Photobook",
                            "20-page Lyric Book",
                            "Photocard (Random 1 of 8)",
                            "Hologram Photocard (Random 1 of 7)",
                            "Mini Poster (Random 1 of 7)",
                            "Sticker",
                          ],
                          image: "enhypen_dd_odysseus",
                        },
                        {
                          name: "Charybdis Version",
                          code: "VER_CHARYBDIS",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD",
                            "112-page Photobook",
                            "20-page Lyric Book",
                            "Photocard (Random 1 of 8)",
                            "Hologram Photocard (Random 1 of 7)",
                            "Mini Poster (Random 1 of 7)",
                            "Sticker",
                          ],
                          image: "enhypen_dd_charybdis",
                        },
                        {
                          name: "Essential Version",
                          code: "VER_ESSENTIAL",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "CD (Digipak Case)",
                            "52-page Photobook",
                            "Mini Poster",
                            "Photocard A (Random 1 of 21)",
                            "Photocard B (Random 1 of 3)",
                            "Top Loader",
                            "Sticker",
                          ],
                          image: "enhypen_dd_essential",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "ENHYPEN Dimension: Dilemma Photocard Set",
                      code: "ENH_PC_DD",
                      price: 70,
                      isAvailable: true,
                      image: "enhypen_pc_dd",
                    },
                  ],
                  posters: [
                    {
                      name: "Dimension: Dilemma Official Poster",
                      code: "ENH_POSTER_DD",
                      price: 100,
                      isAvailable: true,
                      image: "enhypen_dd_poster",
                    },
                  ],
                },
              ],
            },
            {
              name: "Seventeen",
              code: "SVT",
              isAvailable: true,
              image: "BG-SVT",
              products: [
                {
                  albums: [
                    {
                      name: "An Ode",
                      code: "ALB_AO",
                      price: 1500,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Begin Version",
                          code: "VER_BEGIN",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "104-page Photobook",
                            "CD-R",
                            "Mini Photobook (8 pages, Random 1 of 13)",
                            "Photocard (Random 4 of 52)",
                            "Seventeen Sticker (First press only)",
                            "Clear Sticker (Random 1 of 13) (First press only)",
                            "Folding Poster (Random 1 of 13) (First press only)",
                            "Poster (Random 1 of 4) (First press only)",
                          ],
                          image: "svt_ao_begin",
                        },
                        {
                          name: "The Poet Version",
                          code: "VER_POET",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "104-page Photobook",
                            "CD-R",
                            "Mini Photobook (8 pages, Random 1 of 13)",
                            "Photocard (Random 4 of 52)",
                            "Seventeen Sticker (First press only)",
                            "Clear Sticker (Random 1 of 13) (First press only)",
                            "Folding Poster (Random 1 of 13) (First press only)",
                            "Poster (Random 1 of 4) (First press only)",
                          ],
                          image: "svt_ao_poet",
                        },
                        {
                          name: "Hope Version",
                          code: "VER_HOPE",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "104-page Photobook",
                            "CD-R",
                            "Mini Photobook (8 pages, Random 1 of 13)",
                            "Photocard (Random 4 of 52)",
                            "Seventeen Sticker (First press only)",
                            "Clear Sticker (Random 1 of 13) (First press only)",
                            "Folding Poster (Random 1 of 13) (First press only)",
                            "Poster (Random 1 of 4) (First press only)",
                          ],
                          image: "svt_ao_hope",
                        },
                        {
                          name: "Truth Version",
                          code: "VER_TRUTH",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "104-page Photobook",
                            "CD-R",
                            "Mini Photobook (8 pages, Random 1 of 13)",
                            "Photocard (Random 4 of 52)",
                            "Seventeen Sticker (First press only)",
                            "Clear Sticker (Random 1 of 13) (First press only)",
                            "Folding Poster (Random 1 of 13) (First press only)",
                            "Poster (Random 1 of 4) (First press only)",
                          ],
                          image: "svt_ao_truth",
                        },
                        {
                          name: "Real Version",
                          code: "VER_REAL",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "104-page Photobook",
                            "CD-R",
                            "Mini Photobook (8 pages, Random 1 of 13)",
                            "Photocard (Random 4 of 52)",
                            "Seventeen Sticker (First press only)",
                            "Clear Sticker (Random 1 of 13) (First press only)",
                            "Folding Poster (Random 1 of 13) (First press only)",
                            "Poster (Random 1 of 4) (First press only)",
                          ],
                          image: "svt_ao_real",
                        },
                        {
                          name: "Standard Version",
                          code: "VER_STD",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "104-page Photobook",
                            "CD-R",
                            "Mini Photobook (8 pages, Random 1 of 13)",
                            "Photocard (Random 4 of 52)",
                            "Seventeen Sticker (First press only)",
                            "Clear Sticker (Random 1 of 13) (First press only)",
                            "Folding Poster (Random 1 of 13) (First press only)",
                            "Poster (Random 1 of 4) (First press only)",
                          ],
                          image: "svt_ao_std",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Seventeen An Ode Photocard Set",
                      code: "SVT_PC_AO",
                      price: 500,
                      isAvailable: true,
                      image: "svt_pc_ao",
                    },
                  ],
                  posters: [
                    {
                      name: "An Ode Official Poster",
                      code: "SVT_POSTER_AO",
                      price: 100,
                      isAvailable: true,
                      image: "svt_ao_poster",
                    },
                  ],
                },
              ],
            },
            {
              name: "Xdinary Heroes",
              code: "XDH",
              isAvailable: true,
              image: "BG-XDH",
              products: [
                {
                  albums: [
                    {
                      name: "Hello, World!",
                      code: "ALB_HW",
                      price: 1300,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Tutorial Session",
                          code: "VER_TS",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "88-page Photobook",
                            "CD-R",
                            "Photocard (Random 1 of 12)",
                            "Folding Photocard (Random 1 of 6)",
                            "Pop-up Card",
                            "Hologram Sticker",
                            "Hidden Poster (Random 1 of 7) (Pre-order only)",
                            "Autographed Polaroid Photo (Randomly included in 300 first-press copies)",
                          ],
                          image: "xdh_hw_ts",
                        },
                        {
                          name: "Practice Session",
                          code: "VER_PS",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "88-page Photobook",
                            "CD-R",
                            "Photocard (Random 1 of 12)",
                            "Folding Photocard (Random 1 of 6)",
                            "Pop-up Card",
                            "Hologram Sticker",
                            "Hidden Poster (Random 1 of 7) (Pre-order only)",
                            "Autographed Polaroid Photo (Randomly included in 300 first-press copies)",
                          ],
                          image: "xdh_hw_ps",
                        },
                      ],
                    },
                    {
                      name: "Troubleshooting",
                      code: "ALB_TS",
                      price: 1500,
                      isAvailable: true,
                      versions: [
                        {
                          name: "A Version",
                          code: "VER_A",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "Case",
                            "Photobook Set (6 types)",
                            "Lyric Book",
                            "Photo Essay Book",
                            "Sticker Set (10 types)",
                            "Photocard (Random 1 of 12)",
                            "Mirror Photocard (Random 1 of 6)",
                            "Trading Card (Random 1 of 6)",
                            "Postcard Set (2 types)",
                            "Folding Postcard (First press only)",
                            "Habit Tracker + Sticker (First press only)",
                          ],
                          image: "xdh_ts_a",
                        },
                        {
                          name: "B Version",
                          code: "VER_B",
                          price: 1500,
                          isAvailable: true,
                          inclusions: [
                            "Case",
                            "Photobook",
                            "Component Holder",
                            "Photo Essay Book",
                            "Sticker Set (10 types)",
                            "Photocard (Random 1 of 12)",
                            "Mirror Photocard (Random 1 of 6)",
                            "Trading Card (Random 1 of 6)",
                            "Postcard Set (2 types)",
                            "Folding Postcard (First press only)",
                            "Habit Tracker + Sticker (First press only)",
                          ],
                          image: "xdh_ts_b",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Xdinary Heroes Hello, World! Photocard Set",
                      code: "XDH_PC_HW",
                      price: 370,
                      isAvailable: true,
                      image: "xdh_pc_hw",
                    },
                    {
                      name: "Xdinary Heroes Troubleshooting Photocard Set",
                      code: "XDH_PC_TS",
                      price: 370,
                      isAvailable: true,
                      image: "xdh_pc_ts",
                    },
                  ],
                  posters: [
                    {
                      name: "Xdinary Heroes Hello, World! Poster",
                      code: "PST_HW",
                      price: 150,
                      isAvailable: true,
                      image: "xdh_poster_hw",
                    },
                    {
                      name: "Xdinary Heroes Troubleshooting Poster",
                      code: "PST_TS",
                      price: 150,
                      isAvailable: true,
                      image: "xdh_poster_ts",
                    },
                  ],
                },
              ],
            },
          ],
        },
        {
          category: "Soloists",
          contents: [
            {
              name: "Lee Young Ji",
              code: "LYJ",
              isAvailable: true,
              image: "soloist-LYJ",
              products: [
                {
                  albums: [
                    {
                      name: "16 Fantasy",
                      code: "ALB_16F",
                      price: 1300,
                      isAvailable: true,
                      versions: [
                        {
                          name: "Stereo Version",
                          code: "VER_SV",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "64-page Photobook",
                            "Postcard",
                            "Lyrics Paper",
                            "Bookmark",
                            "4-piece Photocard Set",
                            "7-piece Sticker Set",
                            "Folded Poster",
                          ],
                          image: "lyj_16f_sv",
                        },
                        {
                          name: "Special Edition Version",
                          code: "VER_SE",
                          price: 900,
                          isAvailable: true,
                          inclusions: [
                            "16-page Booklet",
                            "Random Photocard (1 of 3)",
                            "Folded Poster",
                            "Lyrics Paper",
                          ],
                          image: "lyj_16f_se",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Lee Young Ji 16 Fantasy Photocard Set",
                      code: "LYJ_PC_16F",
                      price: 170,
                      isAvailable: true,
                      image: "lyj_pc_16f",
                    },
                  ],
                  posters: [
                    {
                      name: "Lee Young Ji 16 Fantasy Poster",
                      code: "PST_16F",
                      price: 150,
                      isAvailable: true,
                      image: "lyj_poster_16f",
                    },
                  ],
                },
              ],
            },
            {
              name: "Jaehyun",
              code: "JHY",
              isAvailable: true,
              image: "soloist-JHY",
              products: [
                {
                  albums: [
                    {
                      name: "J",
                      code: "ALB_J",
                      price: 1300,
                      isAvailable: true,
                      versions: [
                        {
                          name: "J Version",
                          code: "VER_J",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "144-page Photobook",
                            "CD-R",
                            "Coaster (Random 1 of 2)",
                            "Folded Poster (Random 1 of 2)",
                            "Frame Photo",
                            "Photocard (Random 1 of 3)",
                          ],
                          image: "jaehyun_j_ver",
                        },
                        {
                          name: "Money Clip Version",
                          code: "VER_MC",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "72-page Photobook",
                            "Fake Polaroid (Random 1 of 5)",
                            "Folded Poster (Random 1 of 2)",
                            "Lyric Poster",
                            "Sticker (Random 1 of 4)",
                            "Photocard (Random 1 of 3)",
                          ],
                          image: "jaehyun_mc_ver",
                        },
                        {
                          name: "Keyring Version",
                          code: "VER_KR",
                          price: 1300,
                          isAvailable: true,
                          inclusions: [
                            "Package Box",
                            "Acrylic Frame Keyring",
                            "Charm",
                            "QR Card",
                            "Photocard (Random 1 of 3)",
                          ],
                          image: "jaehyun_kr_ver",
                        },
                      ],
                    },
                  ],
                  Photocards: [
                    {
                      name: "Jaehyun Photocard",
                      code: "JHY_PC_J",
                      price: 70,
                      isAvailable: true,
                      image: "jaehyun_pc",
                    },
                  ],
                  posters: [
                    {
                      name: "Jaehyun J Album Poster",
                      code: "JHY_PST_J",
                      price: 150,
                      isAvailable: true,
                      image: "jaehyun_poster_j",
                    },
                  ],
                },
              ],
            },
          ],
        }
      ];
    
      var receiptItems = {};
      var total = 0;

      // Loads all product categories and displays them as clickable cards
      function loadCategories() {
        var categoriesContainer = document.getElementById("categories");
        categoriesContainer.innerHTML = "";

        products.forEach((category, index) => {
          categoriesContainer.innerHTML += `
            <div onclick="loadArtists(`+index+`)" class="card mx-1 custom-button p-3 text-center">
              <small>`+category.category+`</small>
            </div>
          `;
        });
      }

      // Loads all the artists under a selected category
      function loadArtists(categoryIndex) {
        var maincontainer = document.getElementById("maincontainer");
        maincontainer.innerHTML = "";

        var selectedCategory = products[categoryIndex];

        selectedCategory.contents.forEach((artist, artistIndex) => {
          maincontainer.innerHTML += `
            <div onclick="loadProducts(`+categoryIndex+`, `+artistIndex+`)" class="card mx-1 my-2 custom-button content p-3 text-center" style="width: 150px;">
              <img src="img/`+artist.image+`.jpg" alt="`+artist.name+`" style="width: 100%; height: auto; object-fit: cover;" />
              <small>`+artist.name+`</small>
            </div>
          `;
        });
      }

      // Loads all products (albums, photocards, posters) for a selected artist.
      function loadProducts(categoryIndex, artistIndex) {
        var maincontainer = document.getElementById("maincontainer");
        maincontainer.innerHTML = "";

        var artist = products[categoryIndex].contents[artistIndex];

        if (artist.products) {
          artist.products.forEach((product) => {
            // Albums
            if (product.albums && product.albums.length > 0) {
              product.albums.forEach((album) => {
                if (album.versions && album.versions.length > 0) {
                  album.versions.forEach((version) => {
                    var inclusionText = version.inclusions
                      ? version.inclusions
                      : "No inclusions listed";
                    maincontainer.innerHTML += `
                      <div
                        onclick="addToReceipt('`+version.price+`', '`+artist.code+`_`+album.code+`_`+version.code+`')"
                        class="card mx-1 my-2 custom-button content p-3 text-center"
                        title="`+inclusionText+`"
                        style="width: 150px;"
                      >
                        <img src="img/`+version.image+`.jpg" alt="`+album.name+` - `+version.name+`" style="width: 100%; height: auto; object-fit: cover;" />
                        <small>`+artist.name+` - `+album.name+` (`+version.name+`)</small>
                      </div>
                    `;
                  });
                }
              });
            }

            // Photocards
            if (product.Photocards && product.Photocards.length > 0) {
              product.Photocards.forEach((pc) => {
                maincontainer.innerHTML += `
                  <div onclick="addToReceipt('`+pc.price+`', '`+pc.code+`')" class="card mx-1 my-2 custom-button content p-3 text-center" style="width: 150px;">
                    <img src="img/`+pc.image+`.jpg" alt="`+pc.name+`" style="width: 100%; height: auto; object-fit: cover;" />
                    <small>`+artist.name+` - `+pc.name+`</small>
                  </div>
                `;
              });
            }

            // Posters
            if (product.posters && product.posters.length > 0) {
              product.posters.forEach((poster) => {
                maincontainer.innerHTML += `
                  <div onclick="addToReceipt('`+poster.price+`', '`+poster.code+`')" class="card mx-1 my-2 custom-button content p-3 text-center" style="width: 150px;">
                    <img src="img/`+poster.image+`.jpg" alt="`+poster.name+`" style="width: 100%; height: auto; object-fit: cover;" />
                    <small>`+artist.name+` - `+poster.name+`</small>
                  </div>
                `;
              });
            }
          });
        } else {
          maincontainer.innerHTML = `
            <div class="card mx-1 my-2 custom-button content p-3 text-center">
              <small>`+artist.name+` - No products available</small>
            </div>
          `;
        }
      }

      // Adds an item to the receipt
      function addToReceipt(price, code) {
        var receiptContainer = document.getElementById("receipt");
        total = parseFloat(total) + parseFloat(price);

        if (receiptItems[code]) {
          receiptItems[code].quantity += 1;
        } else {
          receiptItems[code] = { price: price, quantity: 1 };
        }

        updateReceiptDisplay();
      }

      // Increases the quantity of a specific item
      function increaseQuantity(code) {
        receiptItems[code].quantity += 1;
        updateReceiptDisplay();
      }

      // Decreases the quantity of a specific item
      function decreaseQuantity(code) {
        if (receiptItems[code].quantity > 1) {
          receiptItems[code].quantity -= 1;
        } else {
          delete receiptItems[code];
        }
        updateReceiptDisplay();
      }

      // Removes an item 
      function removeItem(code) {
        delete receiptItems[code];
        updateReceiptDisplay();
      }

      // Updates the receipt with the current items and total price
      function updateReceiptDisplay() {
        var receiptContainer = document.getElementById("receipt");
        receiptContainer.innerHTML = "";
        total = 0;

        for (let code in receiptItems) {
          var { price, quantity } = receiptItems[code];
          total += price * quantity;

          receiptContainer.innerHTML += `
            <div id="item-`+code+`" class="d-flex flex-row justify-content-between align-items-center mb-1 receiptitems">
              <small class="me-2">`+code+`</small>
              <small class="me-2">â‚±`+price+`</small>
              <button onclick="decreaseQuantity('`+code+`')" class="btn btn-sm btn-warning">-</button>
              <small class="mx-2 quantity">`+quantity+`</small>
              <button onclick="increaseQuantity('`+code+`')" class="btn btn-sm btn-success">+</button>
              <button onclick="removeItem('`+code+`')" class="btn btn-sm btn-danger ms-2">
                <i><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></i>
              </button>
            </div>
          `;
          }
        document.getElementById("totalValue").innerHTML = total.toFixed(2);
      }

      // Displays a summarized view of the transaction in a modal
      function showReceiptSummary() {
        var summaryContainer = document.getElementById("receiptSummary");
        summaryContainer.innerHTML = ""; 
        let grandTotal = 0;

        for (let code in receiptItems) {
          var item = receiptItems[code];
          var lineTotal = item.quantity * item.price;
          grandTotal += lineTotal;

          summaryContainer.innerHTML += `
            <div class="d-flex flex-row justify-content-between mb-2">
              <div><small><b>`+code+`</b> x`+item.quantity+`</small></div>
              <div><small>â‚±`+lineTotal.toFixed(2)+`</small></div>
            </div>
          `;
        }

        document.getElementById("receiptSummaryTotal").innerText = "â‚± " + grandTotal.toFixed(2);
      }

      // Clears the receipt summary display in the modal
      function resetReceiptSummary() {
        var summaryContainer = document.getElementById("receiptSummary");
        summaryContainer.innerHTML = ""; 
        document.getElementById("receiptSummaryTotal").innerText = "â‚±0.00"; 
      }

      // Clears all receipt data to indicate that it's ready for a new transaction
      function resetTransaction() {
        receiptItems = {};               
        total = 0;                       
        updateReceiptDisplay();         
      }

      var receiptModal = document.getElementById('receiptModal');

      // Listens for the modal closing event and resets both the summary and the receipt
      receiptModal.addEventListener('hidden.bs.modal', function () {
        resetReceiptSummary(); 
        resetTransaction();  
      });

      loadCategories();
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
